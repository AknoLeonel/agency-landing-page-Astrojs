---
import Container from "../shared/Container.astro";
import Title from "../shared/Title.astro";

// Dados dos Eventos para o Carrossel
const events = [
    {
        title: "Copa Pé na Areia",
        status: "Próximo Evento",
        date: "Dezembro/2026",
        image: "/images/551791701_694624986992808_5665154762173052282_n.jpg", // Foto da torcida/público
        description: "Futevôlei, Beach Tennis e transmissão da Copa no Parque Deck Norte."
    },
    {
        title: "Wake Up Brasília",
        status: "Realizado",
        date: "2025",
        image: "/images/maior_bubRpEBE1uVrJwlFJwknmkTHWRDGvv7K.jpg", // Foto de esporte/ação
        description: "O maior campeonato de Wakeboard do Centro-Oeste."
    },
    {
        title: "Festival de Cultura",
        status: "Realizado",
        date: "2024",
        image: "/images/554778214_784382407756540_3191476096561487444_n.jpg", // Outra foto de evento
        description: "Shows, teatro e arte valorizando nossa identidade local."
    },
    {
        title: "Ações Sociais",
        status: "Contínuo",
        date: "2026",
        image: "/images/551143821_2199037603955991_604291839961777760_n.jpg", // Foto comunitária
        description: "Levando esporte e cidadania para quem mais precisa."
    }
];
---

<section class="py-12 mt-8 overflow-hidden">
    <Container className="space-y-8">
        <div class="text-center max-w-3xl mx-auto mb-10">
            <Title>
                Nossos Grandes Momentos
            </Title>
            <p class="mt-4 text-heading-3 text-sm md:text-base">
                Confira a energia dos eventos que realizamos e o que vem por aí.
            </p>
        </div>
        
        <div class="swiper mySwiper w-full px-4 sm:px-0">
            <div class="swiper-wrapper pb-10">
                {
                    events.map((event) => (
                        <div class="swiper-slide h-auto">
                            <div class="group relative h-96 rounded-3xl overflow-hidden cursor-pointer">
                                <img 
                                    src={event.image} 
                                    alt={event.title} 
                                    class="absolute inset-0 h-full w-full object-cover transition-transform duration-500 group-hover:scale-110"
                                    loading="lazy"
                                />
                                
                                <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent opacity-80 group-hover:opacity-90 transition-opacity"></div>
                                
                                <div class="absolute bottom-0 left-0 p-6 w-full flex flex-col justify-end h-full">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class={`text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider ${event.status.includes('Próximo') ? 'bg-primary text-white' : 'bg-white/20 text-white backdrop-blur-sm'}`}>
                                            {event.status}
                                        </span>
                                        <span class="text-gray-300 text-sm font-medium">
                                            {event.date}
                                        </span>
                                    </div>
                                    
                                    <h3 class="text-2xl font-bold text-white mb-2 group-hover:text-primary transition-colors">
                                        {event.title}
                                    </h3>
                                    
                                    <p class="text-gray-200 text-sm line-clamp-2 opacity-0 transform translate-y-4 transition-all duration-300 group-hover:opacity-100 group-hover:translate-y-0">
                                        {event.description}
                                    </p>
                                </div>
                            </div>
                        </div>
                    ))
                }
            </div>
            <div class="swiper-pagination !bottom-0"></div>
        </div>
    </Container>
</section>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

<script is:inline src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script is:inline>
    // Inicialização do Swiper com configurações Mobile-First
    document.addEventListener('DOMContentLoaded', function () {
        const swiper = new Swiper(".mySwiper", {
            slidesPerView: 1.1, // Mostra um pedacinho do próximo para incentivar o scroll no mobile
            spaceBetween: 20,
            centeredSlides: false,
            grabCursor: true,
            loop: true,
            autoplay: {
                delay: 3500,
                disableOnInteraction: false,
            },
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
                dynamicBullets: true,
            },
            breakpoints: {
                640: {
                    slidesPerView: 2, // Tablet
                    spaceBetween: 24,
                },
                1024: {
                    slidesPerView: 3, // Desktop
                    spaceBetween: 30,
                },
            },
        });
    });
</script>

<style>
    /* Ajuste de cor da paginação para combinar com o tema */
    :global(.swiper-pagination-bullet-active) {
        background-color: rgb(var(--color-primary)) !important;
    }
</style>